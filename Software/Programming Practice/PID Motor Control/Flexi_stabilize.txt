1M resistor.
Demonstrates force stabilization! Margin of error was 4.
Setpoint generation is (rand()%95) + 20.
Need to hold direction flag a few cycles to allow motor to respond...

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     16
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     16
PID control returns    100
Direction =      0

Current force =     16
PID control returns    100
Direction =      0

Current force =     15
PID control returns    100
Direction =      0

Current force =     13
PID control returns    100
Direction =      0

Current force =     12
PID control returns    100
Direction =      0

Current force =     10
PID control returns    100
Direction =      0

Current force =      9
PID control returns    100
Direction =      0

Current force =      8
PID control returns    100
Direction =      0

Current force =      7
PID control returns    100
Direction =      0

Current force =      6
PID control returns    100
Direction =      0

Current force =      5
PID control returns    100
Direction =      0

Current force =      5
PID control returns    100
Direction =      0

Current force =      4
PID control returns    100
Direction =      0

Current force =      4
PID control returns    100
Direction =      0

Current force =      4
PID control returns    100
Direction =      0

Current force =      5
PID control returns    100
Direction =      0

Current force =      6
PID control returns    100
Direction =      0

Current force =      6
PID control returns    100
Direction =      0

Current force =      7
PID control returns    100
Direction =      0

Current force =      7
PID control returns    100
Direction =      0

Current force =     10
PID control returns    100
Direction =      0

Current force =     13
PID control returns    100
Direction =      0

Current force =     16
PID control returns    100
Direction =      0

Current force =     20
PID control returns    100
Direction =      0

Current force =     21
PID control returns    100
Direction =      0

Current force =     25
PID control returns    100
Direction =      0

Current force =     30
PID control returns    100
Direction =      0

Current force =     35
PID control returns    100
Direction =      0

Current force =     42
PID control returns     88
Direction =      0

Current force =     50
PID control returns     75
Direction =      0

Current force =     56
PID control returns     65
Direction =      0

Current force =     61
PID control returns     57
Direction =      0

Current force =     67
PID control returns     48
Direction =      0

Current force =     72
PID control returns     40
Direction =      0

Current force =     77
PID control returns     32
Direction =      0

Current force =     81
PID control returns     25
Direction =      0

Current force =     84
PID control returns     20
Direction =      0

Current force =     88
PID control returns     20
Direction =      0

Current force =     90
PID control returns     20
Direction =      0

Current force =     93
PID control returns     20
Direction =      0

Current force =     95
PID control returns     20
Direction =      0
** PV stabilized at     95

Current force =     97
PID control returns     20
Direction =      0
** PV stabilized at     97

Current force =     98
PID control returns     20
Direction =      1
** PV stabilized at     98
** New SP =     84

Current force =    100
PID control returns     25
Direction =      0

Current force =    101
PID control returns     27
Direction =      1

Current force =     92
PID control returns     20
Direction =      0

Current force =     74
PID control returns     16
Direction =      0

Current force =     60
PID control returns     38
Direction =      0

Current force =     49
PID control returns     56
Direction =      0

Current force =     40
PID control returns     70
Direction =      0

Current force =     34
PID control returns     80
Direction =      0

Current force =     29
PID control returns     88
Direction =      0

Current force =     25
PID control returns     94
Direction =      0

Current force =     21
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     17
PID control returns    100
Direction =      0

Current force =     15
PID control returns    100
Direction =      0

Current force =     13
PID control returns    100
Direction =      0

Current force =     11
PID control returns    100
Direction =      0

Current force =      9
PID control returns    100
Direction =      0

Current force =      7
PID control returns    100
Direction =      0

Current force =      6
PID control returns    100
Direction =      0

Current force =      5
PID control returns    100
Direction =      0

Current force =      4
PID control returns    100
Direction =      0

Current force =      3
PID control returns    100
Direction =      0

Current force =      3
PID control returns    100
Direction =      0

Current force =      2
PID control returns    100
Direction =      0

Current force =      4
PID control returns    100
Direction =      0

Current force =      7
PID control returns    100
Direction =      0

Current force =     10
PID control returns    100
Direction =      0

Current force =     12
PID control returns    100
Direction =      0

Current force =     19
PID control returns    100
Direction =      0

Current force =     24
PID control returns     96
Direction =      0

Current force =     30
PID control returns     86
Direction =      0

Current force =     37
PID control returns     75
Direction =      0

Current force =     42
PID control returns     67
Direction =      0

Current force =     47
PID control returns     59
Direction =      0

Current force =     52
PID control returns     51
Direction =      0

Current force =     59
PID control returns     40
Direction =      0

Current force =     63
PID control returns     33
Direction =      0

Current force =     69
PID control returns     24
Direction =      0

Current force =     74
PID control returns     16
Direction =      0

Current force =     79
PID control returns     20
Direction =      0

Current force =     83
PID control returns     20
Direction =      0
** PV stabilized at     83

Current force =     86
PID control returns     20
Direction =      1
** PV stabilized at     86

Current force =     90
PID control returns     20
Direction =      0

Current force =     92
PID control returns     20
Direction =      1

Current force =     94
PID control returns     16
Direction =      0

Current force =     96
PID control returns     19
Direction =      1

Current force =     96
PID control returns     19
Direction =      0

Current force =     97
PID control returns     20
Direction =      1

Current force =     93
PID control returns     20
Direction =      0

Current force =     75
PID control returns     20
Direction =      0

Current force =     60
PID control returns     38
Direction =      0

Current force =     48
PID control returns     57
Direction =      0

Current force =     39
PID control returns     72
Direction =      0

Current force =     32
PID control returns     83
Direction =      0

Current force =     26
PID control returns     92
Direction =      0

Current force =     21
PID control returns    100
Direction =      0

Current force =     18
PID control returns    100
Direction =      0

Current force =     16
PID control returns    100
Direction =      0

Current force =     15
PID control returns    100
Direction =      0

Current force =     14
PID control returns    100
Direction =      0

Current force =     14
PID control returns    100
Direction =      0

Current force =     12
PID control returns    100
Direction =      0

Current force =     11
PID control returns    100
Direction =      0

Current force =     10
PID control returns    100
Direction =      0

Current force =      8
PID control returns    100
Direction =      0

Current force =      6
PID control returns    100
Direction =      0

Current force =      5
PID control returns    100
Direction =      0

Current force =      9
PID control returns    100
Direction =      0

Current force =      8
PID control returns    100
Direction =      0

Current force =     14
PID control returns    100
Direction =      0

Current force =     16
PID control returns    100
Direction =      0

Current force =     21
PID control returns    100
Direction =      0

Current force =     28
PID control returns     89
Direction =      0

Current force =     31
PID control returns     84
Direction =      0

Current force =     35
PID control returns     78
Direction =      0

Current force =     43
PID control returns     65
Direction =      0

Current force =     50
PID control returns     54
Direction =      0

Current force =     56
PID control returns     44
Direction =      0

Current force =     63
PID control returns     33
Direction =      0

Current force =     69
PID control returns     24
Direction =      0

Current force =     75
PID control returns     20
Direction =      0

Current force =     80
PID control returns     20
Direction =      0

Current force =     85
PID control returns     20
Direction =      1
** PV stabilized at     85
** New SP =     75

Current force =     88
PID control returns     20
Direction =      0

Current force =     91
PID control returns     25
Direction =      1

Current force =     94
PID control returns     30
Direction =      0

Current force =     96
PID control returns     33
Direction =      1

Current force =     96
PID control returns     33
Direction =      0

Current force =     94
PID control returns     30
Direction =      1

Current force =     76
PID control returns     20
Direction =      0
** PV stabilized at     76

Current force =     61
PID control returns     22
Direction =      0

Current force =     51
PID control returns     38
Direction =      0

Current force =     43
PID control returns     51
Direction =      0

Current force =     38
PID control returns     59
Direction =      0

Current force =     33
PID control returns     67
Direction =      0

Current force =     29
PID control returns     73
Direction =      0

Current force =     27
PID control returns     76
Direction =      0

Current force =     25
PID control returns     80
Direction =      0

Current force =     23
PID control returns     83
Direction =      0

Current force =     22
PID control returns     84
Direction =      0

Current force =     21
PID control returns     86
Direction =      0

Current force =     20
PID control returns     88
Direction =      0

Current force =     19
PID control returns     89
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     15
PID control returns     96
Direction =      0

Current force =     15
PID control returns     96
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     15
PID control returns     96
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     16
PID control returns     94
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     18
PID control returns     91
Direction =      0

Current force =     17
PID control returns     92
Direction =      0

Current force =     17
PID control returns     92
Direction =      0